<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>myFlix API</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <h1>myFlix API Documentation</h1>

    <p>
      The myFlix API serves as the server-side component of the myFlix web
      application, providing users with access to information about different
      movies, directors, and genres. With this API, users can retrieve details
      about movies, add and remove movies from their list of favorites, update
      their user information, and much more. Users can also log in to access
      personalized features, such as managing favorites and updating profiles.
      Built using Node.js, Express, MongoDB, and Mongoose, this RESTful API
      follows industry best practices for authentication, authorization, data
      validation, and security. It's important to note that access to these
      features requires obtaining a user token upon successful authentication,
      ensuring secure access to user-specific functionalities.
    </p>

    <h2>API Endpoint Documentation</h2>

    <table>
      <tr>
        <th>Request Method</th>
        <th>Endpoint URL</th>
        <th>Description</th>
        <th>Query Parameters</th>
        <th>Request Body</th>
        <th>Response</th>
      </tr>
      <tr>
        <td>GET</td>
        <td>/movies</td>
        <td>Returns a list of all movies</td>
        <td>N/A</td>
        <td>N/A</td>
        <td>List of movie objects in JSON format</td>
      </tr>
      <tr>
        <td>GET</td>
        <td>/movies/:title</td>
        <td>Returns data about a single movie by title</td>
        <td>:title - The title of the movie</td>
        <td>N/A</td>
        <td>Single movie object in JSON format</td>
      </tr>
      <tr>
        <td>GET</td>
        <td>/movies/genre/:genreName</td>
        <td>Returns data about a genre by name/title</td>
        <td>:genreName - The name/title of the genre</td>
        <td>N/A</td>
        <td>
          Genre object in JSON Format
          <pre>
            Example:
            {
              "Name": "Sci-Fi",
              "Description": "Science fiction film is a genre that uses speculative, fictional science-based depictions of phenomena."
          }
          </pre>
        </td>
      </tr>
      <tr>
        <td>GET</td>
        <td>/movies/directors/:directorName</td>
        <td>Returns data about a director</td>
        <td>:directorName - The name of the director</td>
        <td>N/A</td>
        <td>
          Director object in JSON Format
          <pre>
            Example:
            {
              "Name": "James Cameron",
              "Bio": "James Cameron is a Canadian film director, producer, and screenwriter.",
              "Birth": "1954"
          }
          </pre>
        </td>
      </tr>
      <tr>
        <td>POST</td>
        <td>/users</td>
        <td>Allows registration of a new user</td>
        <td>N/A</td>
        <td>
          Example:
          <pre>
          { "Name": "Mary7", 
          "Password": "123", 
          "Email": "mary@example.com",
          "Birthday": "1993-05-20", 
          "Country": "Germany", 
          "Gender": "Female" }

          JSON Format
        </pre
          >
        </td>
        <td>
          Newly created user object in JSON format
          <pre>
Example: 
          { "Name": "Mary7",
          "Password": "123", 
          "Email": "mary@example.com", 
          "Birthday": "1993-05-20T00:00:00.000Z", 
          "Country": "Germany", 
          "Gender": "Female",
          "favoriteMovies": [], 
          "_id": "6625510f71a360384d5b806c", "__v": 0 }
        </pre
          >
        </td>
      </tr>
      <tr>
        <td>POST</td>
        <td>/login</td>
        <td>Authenticate a user</td>
        <td>N/A</td>
        <td>
          Example:
          <pre>
          { "username": "example_username", "password": "example_password" }
          JSON Format
          </pre>
        </td>
        <td>
          User object with JWT token in JSON format
          <pre>
          Example:
          {
            "user": {
              // User details excluding password
            },
            "token": "JWT Token"
          }
          </pre>
        </td>
      </tr>

      <tr>
        <td>PUT</td>
        <td>/users/:name/movies/:movieID</td>
        <td>Updates user's favorite movie</td>
        <td>:name - The ID of the user<br />:movieID - The ID of the movie</td>
        <td>N/A</td>
        <td>Updated user object in JSON Format</td>
      </tr>
      <tr>
        <td>PUT</td>
        <td>/users/:name</td>
        <td>Allows users to update their info</td>
        <td>:name - The name of the user</td>
        <td>{ "name": "Updated Name" }</td>
        <td>Updated user object in JSON Format</td>
      </tr>
      <tr>
        <td>DELETE</td>
        <td>/users/:name/movies/:movieID</td>
        <td>Removes a movie from user's favorites</td>
        <td>
          :name - The name of the user<br />:movieID - The id of the movie
        </td>
        <td>N/A</td>
        <td>Updated user object in JSON Format</td>
      </tr>
      <tr>
        <td>DELETE</td>
        <td>/users/:name</td>
        <td>Allows existing users to deregister</td>
        <td>:name - The name of the user</td>
        <td>N/A</td>
        <td>Success message</td>
      </tr>
    </table>
  </body>
</html>
